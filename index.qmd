---
format:
  html:
    include-in-header:
      - text: |
          <link rel="manifest" href="/static/manifest.json">
    include-after-body: 
      file: 'loadserviceworker.html'
---

::: {.grid .mx-5 .px-4 .my-3 .bg-primary .rounded}

:::{ .g-col-6 .d-flex .fs-1 .flex-column .sloganMainPage .align-items-start }

Informações de fácil acesso.

Até mesmo offline.

:::

::: {.g-col-12 }

:::{.pb-3}

:::{.input-group .w-100}

:::{.input-group-text  .bi-search .inputSearchLeft}
 
:::

```{ojs}
viewof textInput = html`<input type="search" class="form-control inputSearchRight" id="searchCity" placeholder="Buscar por município" name="q">`
// viewof searchInput = Inputs.text({label: "Buscar por município", value: "", datalist:["Teste1","Teste2","bar"]})
```


:::

:::




:::

:::


::: {.grid .mx-5 .px-1 .my-3  .rounded .vh-100}

:::{ .g-col-12}

::: {.card}


```{ojs}
json = FileAttachment("files/geojs_bahia.json").json()

html`<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>`

html`<div id="map" style="height: 600px;"></div>`

viewof map = {
  const mapDiv = document.getElementById('map');
  
  const map = L.map(mapDiv).setView([-12.9714, -38.5014], 10);

  L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {
	attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',
	subdomains: 'abcd',
	maxZoom: 20
  }).addTo(map);

  
  L.geoJSON(json, {
    style: {
    color: 'green', 
    weight: 1 
  },
      onEachFeature: function (feature, layer) {
    const popupContent = `
      <button onclick="window.location.href = '${location}municipio.html?id=' + ${feature.properties.id}+ '&ano=2020' ;">Visualizar dados de ${feature.properties.name}</button>
    `;
     
    layer.bindPopup(popupContent);
  }
  }).addTo(map);


  return mapDiv;
}
```

:::

:::

:::

{{< include _pagefooter.qmd >}}
