---
format: 
  html:
    include-in-header:
      - text: |
          <link rel="manifest" href="/static/manifest.json">
    include-after-body: 
      file: 'loadserviceworker.html'
--- 

{{< include _dados.qmd >}}
 

::: {.grid .mx-5 .my-3} 

::: {.g-col-12 .g-col-sm-6}

::: { .text-start } 

:::{.mun}

Município

:::
  
:::{.cityfont .fw-bold }

${nomeCidade}

:::
  
:::

:::

:::{.g-col-12 .g-col-sm-6 .d-flex .justify-content-center .justify-content-sm-end .align-self-center}

:::{.fw-bold}

Selecione o ano de pesquisa desejado    

```{ojs}
viewof pesquisa_ano = html`
<select id="pesquisa_ano" class="form-select" >
  <option value="2010" selected>2010</option>
  <option value="2011">2011</option>
  <option value="2012">2012</option>
  <option value="2013">2013</option>
  <option value="2014">2014</option>
  <option value="2015">2015</option>
  <option value="2016">2016</option>
  <option value="2017">2017</option>
  <option value="2018">2018</option>
  <option value="2019">2019</option>
  <option value="2020">2020</option>
</select>
`
```

:::
 

:::

::: 

::: {.fs-2 .fw-bold .mx-5}

Matrículas no Ensino Médio

:::


:::{.grid .mx-5}


::: {.g-col-12 .g-col-md-6}

::: {.mun } 

Por genêro

:::

:::{.d-flex .text-center .flex-column .flex-md-row .gap-3 }
 

::: {.valuebox .flex-fill  .my-2 .rounded-2 .pt-2} 
  Masculino

  ${total_masculina}

  ${total_masculina_porcentagem}%
:::


::: {.valuebox .flex-fill  .my-2  .rounded-2 .pt-2}  
  Feminino

  ${total_feminina}

  ${total_feminina_porcentagem}%
:::


:::

:::


::: {.g-col-12 .g-col-md-6}

::: {.mun } 

Por raça/cor

:::

:::{.d-flex .text-center .flex-column}



:::{.d-flex .justify-content-between .gap-3 .flex-column .flex-md-row}

::: {.valuebox .flex-fill .my-2  .rounded-2 .pt-2} 
  Não declarada

  ${total_naodeclarada}

  ${total_naodeclarada_porcentagem}%
:::

::: {.valuebox .flex-fill .my-2   .rounded-2 .pt-2} 
  Branca
 
  ${total_branca}

  ${total_branca_porcentagem}%
:::


::: {.valuebox .flex-fill .my-2 .rounded-2 .pt-2} 
  Preta

  ${total_preta}

  ${total_preta_porcentagem}%
:::

:::

:::{.d-flex .gap-3 .flex-column .flex-md-row}


::: {.valuebox .flex-fill .my-2 .rounded-2 .pt-2} 
  Parda

  ${total_parda}

  ${total_parda_porcentagem}%
:::


::: {.valuebox  .flex-fill .my-2 .rounded-2 .pt-2} 
  Amarela

  ${total_amarela}

  ${total_amarela_porcentagem}%
:::


::: {.valuebox  .flex-fill  .my-2  .rounded-2 .pt-2} 
  Indígena

  ${total_indigena}

  ${total_indigena_porcentagem}%
:::

::: {.valuebox  .flex-fill .my-2 .rounded-2 .pt-2} 
  Deficiência

  ${total_deficiencia}

  ${total_deficiencia_porcentagem}%
:::

:::


:::


:::

:::


:::{.mx-5 .fs-6 .fw-light}

Fonte: INEP.

::: 



:::{.grid .pb-3 .mx-5 }

:::{.g-col-12 .g-col-sm-6}


::: {.fw-bold .fs-3}
Quantidade de Matrículas em ${pesquisa_ano} 

:::

:::{id="dadosMatriculas"}

```{ojs}

  updateMatriculasChart =  function (){  
    
      try {
        clearChartGroup("dadosMatriculas", "matriculasChartBar", document.body.clientWidth*0.45, "320")

        var chart = new chartjs.Chart(document.getElementById('matriculasChartBar'), {
          type: 'bar',
          data: {
            labels: ['Total', 'Masculina', 'Feminina', 'Não declarada', 'Branca', 'Preta','Parda','Amarela','Indígena','Deficiência'],
            datasets: [{
              label: '',
              data: [dados[0][pesquisa_ano].Total, dados[0][pesquisa_ano].Masculina, dados[0][pesquisa_ano].Feminina, dados[0][pesquisa_ano].Nãodeclarada, dados[0][pesquisa_ano].Branca,  dados[0][pesquisa_ano].Preta,dados[0][pesquisa_ano].Parda,dados[0][pesquisa_ano].Amarela,dados[0][pesquisa_ano].Indígena,dados[0][pesquisa_ano].Deficiência],
              borderWidth: 1,
              minBarLength: 10,
              backgroundColor:'rgba(75, 192, 192, 0.2)',
              borderColor: 'rgb(75, 192, 192)',
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false, 
            plugins:{
              title: {
                display: false,
                text:`Matriculas em ${pesquisa_ano}`,
              },
              legend: {
                display: false,
              },
              tooltip:{
                callbacks:{
                  label: function(context) {
                      return context.parsed.y.toLocaleString('pt-BR');
                  }
                }
              },
            },
          }, 
          scales: {
            y: {
              beginAtZero: true
            }
          },
        });
      } catch (error) {
        console.log(error);
      }    
    return chart;
  }

 updateMatriculasChart()
  
```

:::

:::

:::{.g-col-12 .g-col-sm-6 .border .border-primary .rounded .px-3}

:::{.fw-bold .fs-3}
Texto sobre quantidade de matrículas
:::

Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse eget lobortis ligula, sed aliquet metus. Nullam urna erat, maximus sed ligula nec, eleifend pellentesque enim. Nullam eros mauris, auctor in euismod gravida, egestas ut sem. Maecenas venenatis mauris et felis ultrices feugiat. Cras convallis dui eu ex iaculis tristique vitae faucibus enim. Duis non nisl sit amet ex luctus porttitor vel vel orci. Vestibulum pulvinar elit ut molestie volutpat. Vestibulum sagittis enim sit amet metus bibendum euismod. Vestibulum purus ex, tempus a aliquet ac, auctor vitae lacus.

Nullam pulvinar libero lorem, at accumsan elit pulvinar ut. Suspendisse fringilla sed libero eu sodales. Vivamus egestas tincidunt massa et sagittis. Quisque malesuada est et quam auctor, ut finibus justo dictum. Nunc lobortis hendrerit sagittis. Aliquam augue ipsum, aliquet eget ultrices et, tincidunt eu tellus. Aliquam elit felis, facilisis non turpis in, vulputate luctus tellus. Etiam dignissim pharetra massa sed dictum. Donec laoreet dictum convallis. Donec consectetur vitae tellus nec egestas. Curabitur id accumsan neque. Mauris condimentum tellus nec leo sodales, et congue justo consequat.

:::


:::{id="dadosDistorcao" .g-col-12 .g-col-sm-6}

:::{.fw-bold .fs-3}

Taxa de distorção idade/série em ${pesquisa_ano}

:::

```{ojs}

hideDistorcao =  {
  changeVisible("dadosDistorcao", filtered_distorcao.length != 0);
  changeVisible("infoDistorcao", filtered_distorcao.length != 0);
  } 

mutable valueDistorcao ="TotalGeral";

updateValueDistorcao = {
  const radioButtons = document.querySelectorAll('input[name="inlineRadioDistorcaoOptions"]');

  for (const radioButton of radioButtons) {
      radioButton.addEventListener('change', (event) => {
          mutable valueDistorcao = event.target.value;
      });
  }
}

viewof radioDistorcaoBar = html`

<div class="form-check form-check-inline row fs-5">
  <input class="form-check-input" type="radio" name="inlineRadioDistorcaoOptions" id="inlineRadioDistorcao1" value="TotalGeral" checked="true">
  <label class="form-check-label" for="inlineRadioDistorcao1">Total</label>
</div>

<div class="form-check form-check-inline row fs-5">
  <input class="form-check-input" type="radio" name="inlineRadioDistorcaoOptions" id="inlineRadioDistorcao2" value="Masculino">
  <label class="form-check-label" for="inlineRadioDistorcao2">Masculino</label>
</div>

<div class="form-check form-check-inline row fs-5">
  <input class="form-check-input" type="radio" name="inlineRadioDistorcaoOptions" id="inlineRadioDistorcao3" value="Feminino">
  <label class="form-check-label" for="inlineRadioDistorcao3">Feminino</label>
</div>
`

```




:::{id="tabDistorcaoBar" }

```{ojs}
     
   updatedistorcaoChartBar =  function (){  
      
      try {
        clearChartGroup("tabDistorcaoBar", "distorcaoChartBar",document.body.clientWidth/2, "320")

        var chart = new chartjs.Chart(document.getElementById('distorcaoChartBar'), {
        type: 'bar',
        data: 
        {
          labels: ['Total', 'Não declarado','Branca', 'Preta', 'Parda', 'Amarela', 'Indígena', 'Deficiência'],
          datasets: [
            {
              label: '',
              data: [dados_distorcao[pesquisa_ano][valueDistorcao].Total, dados_distorcao[pesquisa_ano][valueDistorcao].RacaNaoDeclarada, dados_distorcao[pesquisa_ano][valueDistorcao].Branca, dados_distorcao[pesquisa_ano][valueDistorcao].Preta, dados_distorcao[pesquisa_ano][valueDistorcao].Parda, dados_distorcao[pesquisa_ano][valueDistorcao].Amarela,dados_distorcao[pesquisa_ano][valueDistorcao].Indígena, dados_distorcao[pesquisa_ano][valueDistorcao].Deficiência],
              backgroundColor: 'rgba(255, 99, 132, 0.2)',
              borderColor: 'rgba(255, 99, 132, 1)',
              borderWidth: 1,
               minBarLength: 10,
            }
          ],
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
           plugins: {
            tooltip: {
                callbacks: {
                    label: function(context) {
                        let label = context.dataset.label || '';

                        if (label) {
                            label += ': ';
                        }
                        if (context.parsed.y !== null) {
                            label += context.parsed.y + '%';
                        }
                        return label;
                    }
                },
                
            },
            legend: {
              display: false,
            },
        },
          scales: {
            x: {
              stacked: true
            },
            y: {
              stacked: true
            }
          }
        }
        });
        } catch (error) {
          console.log(error);
      }    
    return chart;
  } 

  updatedistorcaoChartBar()

```


:::

:::


:::{id="infoDistorcao" .g-col-12 .g-col-sm-6 .border .border-primary .rounded .px-3}

:::{.fw-bold .fs-3}
Texto sobre a distorção idade/série
:::

Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse eget lobortis ligula, sed aliquet metus. Nullam urna erat, maximus sed ligula nec, eleifend pellentesque enim. Nullam eros mauris, auctor in euismod gravida, egestas ut sem. Maecenas venenatis mauris et felis ultrices feugiat. Cras convallis dui eu ex iaculis tristique vitae faucibus enim. Duis non nisl sit amet ex luctus porttitor vel vel orci. Vestibulum pulvinar elit ut molestie volutpat. Vestibulum sagittis enim sit amet metus bibendum euismod. Vestibulum purus ex, tempus a aliquet ac, auctor vitae lacus.

Nullam pulvinar libero lorem, at accumsan elit pulvinar ut. Suspendisse fringilla sed libero eu sodales. Vivamus egestas tincidunt massa et sagittis. Quisque malesuada est et quam auctor, ut finibus justo dictum. Nunc lobortis hendrerit sagittis. Aliquam augue ipsum, aliquet eget ultrices et, tincidunt eu tellus. Aliquam elit felis, facilisis non turpis in, vulputate luctus tellus. Etiam dignissim pharetra massa sed dictum. Donec laoreet dictum convallis. Donec consectetur vitae tellus nec egestas. Curabitur id accumsan neque. Mauris condimentum tellus nec leo sodales, et congue justo consequat.

:::




:::{id="dadosRendimento" .g-col-12 .g-col-sm-6}

:::{.fw-bold .fs-3}

Taxa de rendimento em ${pesquisa_ano}

:::

```{ojs}

hideRendimento =  {
  changeVisible("dadosRendimento", filtered_rendimento.length != 0);
  changeVisible("infoRendimento", filtered_rendimento.length != 0);
  } 

mutable valueRendimento ="TotalGeral";

updateValueRendimento = {
  const radioButtons = document.querySelectorAll('input[name="inlineRadioRendimentoOptions"]');

  for (const radioButton of radioButtons) {
      radioButton.addEventListener('change', (event) => {
          mutable valueRendimento = event.target.value;
      });
  }
}

viewof radioRendimentoBar = html`

<div class="form-check form-check-inline row fs-5">
  <input class="form-check-input" type="radio" name="inlineRadioRendimentoOptions" id="inlineRadioRendimento1" value="TotalGeral" checked="true">
  <label class="form-check-label" for="inlineRadioRendimento1">Total</label>
</div>

<div class="form-check form-check-inline row fs-5">
  <input class="form-check-input" type="radio" name="inlineRadioRendimentoOptions" id="inlineRadioRendimento2" value="Masculino">
  <label class="form-check-label" for="inlineRadioRendimento2">Masculino</label>
</div>

<div class="form-check form-check-inline row fs-5">
  <input class="form-check-input" type="radio" name="inlineRadioRendimentoOptions" id="inlineRadioRendimento3" value="Feminino">
  <label class="form-check-label" for="inlineRadioRendimento3">Feminino</label>
</div>
`

```




:::{id="tabRendimentoBar" }

```{ojs}
     
   updaterendimentoChartBar =  function (){  
      
      try {
        clearChartGroup("tabRendimentoBar", "rendimentoChartBar",document.body.clientWidth/2, "320")

        var chart = new chartjs.Chart(document.getElementById('rendimentoChartBar'), {
        type: 'bar',
        data: 
        {
          labels: ['Total', 'Não declarado','Branca', 'Preta', 'Parda', 'Amarela', 'Indígena', 'Deficiência'],
          datasets: [
            {
              label: 'Aprovação',
              data: [dados_rendimento[pesquisa_ano][valueRendimento]["Total"].Aprovação, dados_rendimento[pesquisa_ano][valueRendimento]["RacaNaoDeclarada"].Aprovação, dados_rendimento[pesquisa_ano][valueRendimento]["Branca"].Aprovação, dados_rendimento[pesquisa_ano][valueRendimento]["Preta"].Aprovação, dados_rendimento[pesquisa_ano][valueRendimento]["Parda"].Aprovação, dados_rendimento[pesquisa_ano][valueRendimento]["Amarela"].Aprovação,dados_rendimento[pesquisa_ano][valueRendimento]["Indígena"].Aprovação, dados_rendimento[pesquisa_ano][valueRendimento]["Deficiência"].Aprovação],
              backgroundColor: 'rgba(255, 99, 132, 0.2)',
              borderColor: 'rgba(255, 99, 132, 1)',
              borderWidth: 1,
            },
            {
              label: 'Reprovação',
              data: [dados_rendimento[pesquisa_ano][valueRendimento]["Total"].Reprovação, dados_rendimento[pesquisa_ano][valueRendimento]["RacaNaoDeclarada"].Reprovação, dados_rendimento[pesquisa_ano][valueRendimento]["Branca"].Reprovação, dados_rendimento[pesquisa_ano][valueRendimento]["Preta"].Reprovação, dados_rendimento[pesquisa_ano][valueRendimento]["Parda"].Reprovação, dados_rendimento[pesquisa_ano][valueRendimento]["Amarela"].Reprovação,dados_rendimento[pesquisa_ano][valueRendimento]["Indígena"].Reprovação, dados_rendimento[pesquisa_ano][valueRendimento]["Deficiência"].Reprovação],
              backgroundColor: 'rgba(75, 192, 192, 0.2)',
              borderColor: 'rgba(75, 192, 192, 1)',
              borderWidth: 1,
            },
            {
              label: 'Abandono',
              data: [dados_rendimento[pesquisa_ano][valueRendimento]["Total"].Abandono, dados_rendimento[pesquisa_ano][valueRendimento]["RacaNaoDeclarada"].Abandono, dados_rendimento[pesquisa_ano][valueRendimento]["Branca"].Abandono, dados_rendimento[pesquisa_ano][valueRendimento]["Preta"].Abandono, dados_rendimento[pesquisa_ano][valueRendimento]["Parda"].Abandono, dados_rendimento[pesquisa_ano][valueRendimento]["Amarela"].Abandono,dados_rendimento[pesquisa_ano][valueRendimento]["Indígena"].Abandono, dados_rendimento[pesquisa_ano][valueRendimento]["Deficiência"].Abandono],
              backgroundColor: 'rgba(205, 205, 133, 0.2)',
              borderColor: 'rgba(205, 205, 133, 1)',
              borderWidth: 1,
            },
            
          ],
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
           plugins: {
            tooltip: {
                callbacks: {
                    label: function(context) {
                        let label = context.dataset.label || '';

                        if (label) {
                            label += ': ';
                        }
                        if (context.parsed.y !== null) {
                            label += context.parsed.y + '%';
                        }
                        return label;
                    }
                }
            }
        },
          scales: {
            x: {
              stacked: true
            },
            y: {
              stacked: true
            }
          }
        }
        });
        } catch (error) {
          console.log(error);
      }    
    return chart;
  } 

  updaterendimentoChartBar()

```


:::

:::


:::{id="infoRendimento" .g-col-12 .g-col-sm-6 .border .border-primary .rounded .px-3}

:::{.fw-bold .fs-3}
Texto sobre o rendimento escolar
:::

Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse eget lobortis ligula, sed aliquet metus. Nullam urna erat, maximus sed ligula nec, eleifend pellentesque enim. Nullam eros mauris, auctor in euismod gravida, egestas ut sem. Maecenas venenatis mauris et felis ultrices feugiat. Cras convallis dui eu ex iaculis tristique vitae faucibus enim. Duis non nisl sit amet ex luctus porttitor vel vel orci. Vestibulum pulvinar elit ut molestie volutpat. Vestibulum sagittis enim sit amet metus bibendum euismod. Vestibulum purus ex, tempus a aliquet ac, auctor vitae lacus.

Nullam pulvinar libero lorem, at accumsan elit pulvinar ut. Suspendisse fringilla sed libero eu sodales. Vivamus egestas tincidunt massa et sagittis. Quisque malesuada est et quam auctor, ut finibus justo dictum. Nunc lobortis hendrerit sagittis. Aliquam augue ipsum, aliquet eget ultrices et, tincidunt eu tellus. Aliquam elit felis, facilisis non turpis in, vulputate luctus tellus. Etiam dignissim pharetra massa sed dictum. Donec laoreet dictum convallis. Donec consectetur vitae tellus nec egestas. Curabitur id accumsan neque. Mauris condimentum tellus nec leo sodales, et congue justo consequat.

:::


:::



{{< include _pagefooter.qmd >}}