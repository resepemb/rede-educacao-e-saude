---
format: 
  html:
    include-in-header:
      - text: |
          <link rel="manifest" href="/static/manifest.json">
--- 
{{< include _dados.qmd >}}


::: {.grid .mx-5 .my-3}

::: {.g-col-6}

::: { .text-start } 

:::{.mun}

Município

:::
  
:::{.cityfont .fw-bold }

${nomeCidade}

:::
  
:::

:::

:::{.g-col-6 .d-flex .justify-content-center .align-self-center}

:::{.row}

Selecione o ano de pesquisa desejado   

```{ojs}

// viewof pesquisa_ano = Inputs.select(["2010", "2011", "2012", "2013","2014","2015","2016","2017", "2018","2019","2020"], {value: ano_pesquisa, label: "Ano de pesquisa "}) 

viewof pesquisa_ano = html`
<select id="pesquisa_ano" class="form-select" >
  <option value="2010">2010</option>
  <option value="2011">2011</option>
  <option value="2012">2012</option>
  <option value="2013">2013</option>
  <option value="2014">2014</option>
  <option value="2015">2015</option>
  <option value="2016">2016</option>
  <option value="2017">2017</option>
  <option value="2018">2018</option>
  <option value="2019">2019</option>
  <option value="2020" selected>2020</option>
</select>
`

```

:::



:::

::: 


::: {.grid .mx-5 .mun}

Por genêro

:::

:::{.grid .mx-5 .text-center }
 

::: {.valuebox color="green" .g-col-12 .g-col-sm-4 .rounded-2 .pt-2} 
  Masculina

  ${total_masculina}

  ${total_masculina_porcentagem} %
:::


::: {.valuebox  color="green" .g-col-12 .g-col-sm-4 .rounded-2 .pt-2}  
  Feminina

  ${total_feminina}

  ${total_feminina_porcentagem} %
:::



::: {.valuebox  color="green" .g-col-12 .g-col-sm-4 .rounded-2 .pt-2} 
  Não declarada

  ${total_naodeclarada}

  ${total_naodeclarada_porcentagem} %
:::

:::


::: {.grid .mx-5 .mun}

Por raça/cor

:::

:::{.grid .mx-5 .text-center }

::: {.valuebox  color="info" .g-col-12 .g-col-md-2 .rounded-2 .pt-2} 
  Branca
 
  ${total_branca}

  ${total_branca_porcentagem} %
:::


::: {.valuebox  color="info" .g-col-12 .g-col-md-2 .rounded-2 .pt-2} 
  Preta

  ${total_preta}

  ${total_preta_porcentagem} %
:::


::: {.valuebox  color="info" .g-col-12 .g-col-md-2 .rounded-2 .pt-2} 
  Parda

  ${total_parda}

  ${total_parda_porcentagem} %
:::


::: {.valuebox  color="info" .g-col-12 .g-col-md-2 .rounded-2 .pt-2} 
  Amarela

  ${total_amarela}

  ${total_amarela_porcentagem} %
:::


::: {.valuebox  color="info" .g-col-12 .g-col-md-2 .rounded-2 .pt-2} 
  Indígena

  ${total_indigena}

  ${total_indigena_porcentagem} %
:::

::: {.valuebox  color="info" .g-col-12 .g-col-md-2 .rounded-2 .pt-2} 
  Deficiência

  ${total_deficiencia}

  ${total_deficiencia_porcentagem} %
:::
 
:::


:::{.grid .mx-5 .pb-3}

```{ojs}
//| title: 'Dados completos'
 
bar({
  data: [{ name: "Total", '' :dados[0][pesquisa_ano].Total},
  { name: "Masculina", '':  dados[0][pesquisa_ano].Masculina},
  { name: "Feminina", '': dados[0][pesquisa_ano].Feminina},
  { name: "Não declarada", '': dados[0][pesquisa_ano].Nãodeclarada},
  { name: "Branca", '': dados[0][pesquisa_ano].Branca},
  { name: "Preta", '': dados[0][pesquisa_ano].Preta},
  { name: "Parda", '': dados[0][pesquisa_ano].Parda},
  { name: "Amarela", '': dados[0][pesquisa_ano].Amarela},
  { name: "Indígena",'':dados[0][pesquisa_ano].Indígena},
  { name: "Deficiência", '':dados[0][pesquisa_ano].Deficiência},
  ],
 
   
  options: {
    plugins: {
      datalabels: {
        color: 'white',
        font: {
          weight: 'bold'
        },
        formatter: function(x) {
          return x.toLocaleString('pt-BR')
        }
      }
    }
  },
   width: 900,
  height: 375
})  
```

:::

{{< include _pagefooter.qmd >}}